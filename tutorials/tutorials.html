<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tutorials &#8212; pyNomo Documentation 0.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Big picture of nomograph construction" href="../main_page.html" />
    <link rel="prev" title="Installation" href="../installation/installation.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          pyNomo Documentation</a>
        <span class="navbar-text navbar-version pull-left"><b>0.3.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main_page.html">Big picture of nomograph construction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../axes/axes.html">Axes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../types/types.html">Blocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../alignment/alignment.html">Block alignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../transformations/transformations.html">Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main_params.html">Top level parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../literature/literature.html">Literature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/appendices.html">Appendix</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Tutorials</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#tutorial-1-vehicle-economy-calculator">Tutorial 1: Vehicle economy calculator</a><ul>
<li><a class="reference internal" href="#objective">Objective</a></li>
<li><a class="reference internal" href="#nomogram-construction">Nomogram construction</a></li>
<li><a class="reference internal" href="#generated-nomogram">Generated nomogram</a></li>
<li><a class="reference internal" href="#a-variation-on-vehicle-economy-calculator">A variation on vehicle economy calculator</a></li>
<li><a class="reference internal" href="#id1">Generated nomogram</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tutorial-2-vehicle-economy-calculator-metric-and-us">Tutorial 2: Vehicle economy calculator (Metric and US)</a><ul>
<li><a class="reference internal" href="#id2">Objective</a></li>
<li><a class="reference internal" href="#id3">Nomogram construction</a></li>
<li><a class="reference internal" href="#id4">Generated nomogram</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tutorial-program-listings">Tutorial Program Listings</a><ul>
<li><a class="reference internal" href="#tutorial-1-program-listing">Tutorial 1 program listing</a></li>
<li><a class="reference internal" href="#tutorial-1-program-listing-variation">Tutorial 1 program listing (variation)</a></li>
<li><a class="reference internal" href="#tutorial-2-program-listing">Tutorial 2 program listing</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="../installation/installation.html" title="Previous Chapter: Installation"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Installation</span>
    </a>
  </li>
  <li>
    <a href="../main_page.html" title="Next Chapter: Big picture of nomograph construction"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Big picture o... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/tutorials/tutorials.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Tutorials</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#tutorial-1-vehicle-economy-calculator">Tutorial 1: Vehicle economy calculator</a><ul>
<li><a class="reference internal" href="#objective">Objective</a></li>
<li><a class="reference internal" href="#nomogram-construction">Nomogram construction</a></li>
<li><a class="reference internal" href="#generated-nomogram">Generated nomogram</a></li>
<li><a class="reference internal" href="#a-variation-on-vehicle-economy-calculator">A variation on vehicle economy calculator</a></li>
<li><a class="reference internal" href="#id1">Generated nomogram</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tutorial-2-vehicle-economy-calculator-metric-and-us">Tutorial 2: Vehicle economy calculator (Metric and US)</a><ul>
<li><a class="reference internal" href="#id2">Objective</a></li>
<li><a class="reference internal" href="#id3">Nomogram construction</a></li>
<li><a class="reference internal" href="#id4">Generated nomogram</a></li>
</ul>
</li>
<li><a class="reference internal" href="#tutorial-program-listings">Tutorial Program Listings</a><ul>
<li><a class="reference internal" href="#tutorial-1-program-listing">Tutorial 1 program listing</a></li>
<li><a class="reference internal" href="#tutorial-1-program-listing-variation">Tutorial 1 program listing (variation)</a></li>
<li><a class="reference internal" href="#tutorial-2-program-listing">Tutorial 2 program listing</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <li>
    <a href="../installation/installation.html" title="Previous Chapter: Installation"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Installation</span>
    </a>
  </li>
  <li>
    <a href="../main_page.html" title="Next Chapter: Big picture of nomograph construction"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Big picture o... &raquo;</span>
    </a>
  </li>
<div id="sourcelink">
  <a href="../_sources/tutorials/tutorials.rst.txt"
     rel="nofollow">Source</a>
</div>
<form action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="tutorials">
<h1>Tutorials<a class="headerlink" href="#tutorials" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This chapter provides a “how-to” on nomogram construction using the PyNomo library.  It assumes you’ve already installed and tested  PyNomo in your environment and can successfully build the nomograms in the block type descriptions.</p>
<p>Program listings for all the tutorials are at the end of this chapter.</p>
</div>
<div class="section" id="tutorial-1-vehicle-economy-calculator">
<h2>Tutorial 1: Vehicle economy calculator<a class="headerlink" href="#tutorial-1-vehicle-economy-calculator" title="Permalink to this headline">¶</a></h2>
<div class="section" id="objective">
<h3>Objective<a class="headerlink" href="#objective" title="Permalink to this headline">¶</a></h3>
<p>Construct an “N” type nomogram to calculate a vehicle’s range, fuel consumption or fuel economy given any two of these values.  The nomogram will be built using linear scales.</p>
</div>
<div class="section" id="nomogram-construction">
<h3>Nomogram construction<a class="headerlink" href="#nomogram-construction" title="Permalink to this headline">¶</a></h3>
<p>Nomogram construction involves several steps.  The first is always to identify the variables and their relationship. In this tutorial we need to consider three variables:</p>
<ul class="simple">
<li>distance (<span class="math notranslate nohighlight">\(d\)</span>) measured in kilometres,</li>
<li>fuel consumed (<span class="math notranslate nohighlight">\(c\)</span>) measured in litres, and</li>
<li>fuel economy  (<span class="math notranslate nohighlight">\(e\)</span>) measured in kilometres driven per litre consumed.</li>
</ul>
<p>The relationship between these variables is:</p>
<p><span class="math notranslate nohighlight">\(d = {e\times c}.\)</span></p>
<p>This equation satisfies the form for a Type 2 nomogram (see section 6.2) as follows:</p>
<p><span class="math notranslate nohighlight">\(F_1(u_1) = {F_2(u_2)F_3(u_3)},\)</span></p>
<p>where</p>
<p><span class="math notranslate nohighlight">\(F_1(u_1) = u_1 = d\)</span>,</p>
<p><span class="math notranslate nohighlight">\(F_2(u_2) = u_2 = e\)</span></p>
<p>and</p>
<p><span class="math notranslate nohighlight">\(F_3(u_3) = u_3 = c\)</span>.</p>
<p>All scales are linear and we choose a reasonable range of values (<code class="code docutils literal notranslate"><span class="pre">u_min</span></code> and <code class="code docutils literal notranslate"><span class="pre">u_max</span></code>) for each axis.</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">dist_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># distance in kilometers (u1)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;kms&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">eff_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel efficiency in km / litre) (u2)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;kms per litre&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">fuel_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel consumption in litres (u3)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;litres&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>These scales are linked into a single block as follows:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>42
43
44
45
46
47</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">block_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">dist_SI</span><span class="p">,</span>
    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">eff_SI</span><span class="p">,</span>
    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">fuel_SI</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Parameters <code class="code docutils literal notranslate"><span class="pre">f1_params</span></code>, <code class="code docutils literal notranslate"><span class="pre">f2_params</span></code> and <code class="code docutils literal notranslate"><span class="pre">f3_params</span></code> represent parameters
including functions for variables <span class="math notranslate nohighlight">\(u_1\)</span>, <span class="math notranslate nohighlight">\(u_2\)</span> and <span class="math notranslate nohighlight">\(u_3\)</span> respectively.</p>
</div>
<p>Finally, we define main parameters of the nomogram and generate the chart:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>49
50
51
52
53
54
55
56
57</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="s1">&#39;tutorial1a.eps&#39;</span><span class="p">,</span>
    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_SI</span><span class="p">],</span>
    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\LARGE Fuel economy calculator&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="generated-nomogram">
<h3>Generated nomogram<a class="headerlink" href="#generated-nomogram" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/tutorial1a.png" src="../_images/tutorial1a.png" />
</div>
<div class="section" id="a-variation-on-vehicle-economy-calculator">
<h3>A variation on vehicle economy calculator<a class="headerlink" href="#a-variation-on-vehicle-economy-calculator" title="Permalink to this headline">¶</a></h3>
<p>The previously generated nomogram is complete but doesn’t express the vehicle’s economy the way we would like.  A vehicle’s fuel economy is more often expressed in litres consumed per 100 kilometres driven, 100 times the reciprocal of the original function.  How do we do this?</p>
<p>Recall that</p>
<p><span class="math notranslate nohighlight">\(d = {e\times c}\)</span></p>
<p>and thus</p>
<p><span class="math notranslate nohighlight">\({\frac{d}{c}} = e\)</span>.</p>
<p>We express the reciprocal of the economy by rearranging the formula as</p>
<p><span class="math notranslate nohighlight">\(\frac{c}{d} = \frac{1}{e}\)</span>.</p>
<p>Since our goal is to describe fuel economy in terms of litres per <em>100 km</em>
we multiply <span class="math notranslate nohighlight">\(\frac{1}{e}\)</span> by 100 to achieve the correct units:</p>
<p><span class="math notranslate nohighlight">\(\frac{c}{d} = \frac{100.0}{e}\)</span>.</p>
<p><span class="math notranslate nohighlight">\(u_2 = e\)</span> so our function for <span class="math notranslate nohighlight">\(u_2\)</span> becomes</p>
<p><span class="math notranslate nohighlight">\(\frac{100.0}{u_2}\)</span></p>
<p>and we amend the axis definition:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>21
22
23
24
25
26
27
28
29
30</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">eff_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel efficiency in litres / 100 kilometres) (u2)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="mf">100.0</span><span class="o">/</span><span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;litres per 100 kms&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id1">
<h3>Generated nomogram<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/tutorial1b.png" src="../_images/tutorial1b.png" />
</div>
</div>
<div class="section" id="tutorial-2-vehicle-economy-calculator-metric-and-us">
<h2>Tutorial 2: Vehicle economy calculator (Metric and US)<a class="headerlink" href="#tutorial-2-vehicle-economy-calculator-metric-and-us" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>Objective<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Create a new nomogram similar to the one shown in Tutorial 1 but add scales for American units of measure (miles and US gallons).  This tutorial will cover:</p>
<ul class="simple">
<li>Aligning and adjusting compatible scales.</li>
<li>Modifying axis parameters (titles and tick location) to improve readability.</li>
<li>Creating isopleths.</li>
<li>Combining blocks into a single nomogram.</li>
</ul>
</div>
<div class="section" id="id3">
<h3>Nomogram construction<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>Recapping from the first part of Tutorial 1, we know that</p>
<p><span class="math notranslate nohighlight">\(d = {e\times c}\)</span>,</p>
<p>where <span class="math notranslate nohighlight">\(e\)</span> (economy) was expressed in terms of distance travelled per unit volume of fuel.  This is precisely what we want but we need to adjust the scales for American units of measure.  This is accomplished by:</p>
<ol class="arabic simple">
<li><em>Converting</em> the minimum (<code class="code docutils literal notranslate"><span class="pre">u_min</span></code>) and maximum (<code class="code docutils literal notranslate"><span class="pre">u_max</span></code>) values in the axis to match those in the SI unit axis.</li>
<li><em>Aligning</em> the distance and fuel consumed axis so that they match the height of the SI unit axis.</li>
<li><em>Tagging</em> the distance and fuel scales so that they align horizontally with their metric system counterparts.</li>
</ol>
<p>Thus our three new scales are defined as follows:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>25
26
27
28
29
30
31
32
33
34
35
36
37</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">dist_US</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># distance in miles (u1)</span>
    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="o">/</span><span class="mf">1.609344</span><span class="p">,</span>    <span class="c1"># convert kilometers to miles</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="o">/</span><span class="mf">1.609344</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>    <span class="c1"># plot the u values linearly ...</span>
    <span class="s1">&#39;align_func&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mf">1.609344</span><span class="p">,</span>   <span class="c1"># but adjust the length to match kilometers</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$mi.$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>52
53
54
55
56
57
58
59
60
61
62
63
64</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">eff_US</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel efficiency in miles per US gallon) u2</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">235.189</span><span class="o">/</span><span class="mf">20.0</span><span class="p">,</span>      <span class="c1"># magic value to coordinate length of SI and US scale</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">235.189</span><span class="o">/</span><span class="mf">5.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$\frac{mi.}{US \, gal.}$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>78
79
80
81
82
83
84
85
86
87
88
89
90</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">fuel_US</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel consumption in US gallons</span>
    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;consumption&#39;</span><span class="p">,</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="o">/</span><span class="mf">3.785</span><span class="p">,</span>    <span class="c1"># convert liters to USG</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="o">/</span><span class="mf">3.785</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>    <span class="c1"># plot the gallons</span>
    <span class="s1">&#39;align_func&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mf">3.785</span><span class="p">,</span>   <span class="c1"># but must be scaled up to litres</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$US \, gal.$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Tags are also added to the SI units axis:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">dist_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># distance in kilometers (u1)</span>
    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>66
67
68
69</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">fuel_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel consumption in litres (u3)</span>
    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;consumption&#39;</span><span class="p">,</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
</pre></div>
</td></tr></table></div>
<p>Notice no alignment function or tag is specified for the <code class="code docutils literal notranslate"><span class="pre">eff_US</span></code> axis.  None are required because this axis is a function of the <code class="code docutils literal notranslate"><span class="pre">dist_US</span></code> and <code class="code docutils literal notranslate"><span class="pre">fuel_US</span></code> axis which are already scaled appropriately therefore its alignment is automatic.</p>
<p>A new block is created to link the three new scales with an isopleth (solution line):</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>100
101
102
103
104
105
106</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">block_US</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">dist_US</span><span class="p">,</span>
    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">eff_US</span><span class="p">,</span>
    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">fuel_US</span><span class="p">,</span>
    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">550</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]],</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Since all blocks must contain the same number of isopleths, we add one to the <code class="code docutils literal notranslate"><span class="pre">block_SI</span></code> axis:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>92
93
94
95
96
97
98</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">block_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">dist_SI</span><span class="p">,</span>
    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">eff_SI</span><span class="p">,</span>
    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">fuel_SI</span><span class="p">,</span>
    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">600</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">90</span><span class="p">]],</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Finally, <code class="code docutils literal notranslate"><span class="pre">block_US</span></code> is added to the <code class="code docutils literal notranslate"><span class="pre">block_params</span></code> key:</p>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>108
109
110
111
112
113
114
115</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="s1">&#39;tutorial2.pdf&#39;</span><span class="p">,</span>
    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_SI</span><span class="p">,</span> <span class="n">block_US</span><span class="p">],</span>
    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\LARGE Fuel economy calculator (Metric and US)&#39;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>This nomogram holds useful features.  The individual scales for distance, fuel consumption and fuel economy can be used on their own to convert from one system of measurement to another.  Another feature is the ability to use variables from different system of units (e.g. kilometres and US gallons) and calculate fuel economy in either miles per gallon or litres per 100 km.</p>
</div>
<div class="section" id="id4">
<h3>Generated nomogram<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<img alt="../_images/tutorial2.png" src="../_images/tutorial2.png" />
</div>
</div>
<div class="section" id="tutorial-program-listings">
<h2>Tutorial Program Listings<a class="headerlink" href="#tutorial-program-listings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tutorial-1-program-listing">
<h3>Tutorial 1 program listing<a class="headerlink" href="#tutorial-1-program-listing" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    tutorial1a.py</span>

<span class="sd">    Simple nomogram of relationship between auto fuel consumption and distance travelled</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">dist_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># distance in kilometers (u1)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;kms&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">eff_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel efficiency in km / litre) (u2)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;kms per litre&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">fuel_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel consumption in litres (u3)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;litres&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">block_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">dist_SI</span><span class="p">,</span>
    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">eff_SI</span><span class="p">,</span>
    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">fuel_SI</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="s1">&#39;tutorial1a.eps&#39;</span><span class="p">,</span>
    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_SI</span><span class="p">],</span>
    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\LARGE Fuel economy calculator&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="tutorial-1-program-listing-variation">
<h3>Tutorial 1 program listing (variation)<a class="headerlink" href="#tutorial-1-program-listing-variation" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    tutorial1b.py</span>

<span class="sd">    Simple nomogram of relationship between auto fuel consumption and distance travelled</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">dist_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># distance in kilometers (u1)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;kms&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">eff_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel efficiency in litres / 100 kilometres) (u2)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="mf">100.0</span><span class="o">/</span><span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;litres per 100 kms&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">fuel_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel consumption in litres (u3)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;litres&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">block_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">dist_SI</span><span class="p">,</span>
    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">eff_SI</span><span class="p">,</span>
    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">fuel_SI</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="s1">&#39;tutorial1b.eps&#39;</span><span class="p">,</span>
    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_SI</span><span class="p">],</span>
    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\LARGE Fuel economy calculator (Variation)&#39;</span><span class="p">,</span>
    <span class="c1"># &#39;make_grid&#39;: True,</span>
<span class="p">}</span>
<span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="tutorial-2-program-listing">
<h3>Tutorial 2 program listing<a class="headerlink" href="#tutorial-2-program-listing" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    tutorial2.py</span>

<span class="sd">    Compound nomogram of relationship between auto fuel consumption and distance traveled in metric and US units.</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;..&quot;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">pynomo.nomographer</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">text</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s2">&quot;latex&quot;</span><span class="p">)</span>  <span class="c1"># allows use of latex commands in PyX such as \frac{a}{b} and \par</span>

<span class="n">dist_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># distance in kilometers (u1)</span>
    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$km$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">dist_US</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># distance in miles (u1)</span>
    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;distance&#39;</span><span class="p">,</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="o">/</span><span class="mf">1.609344</span><span class="p">,</span>    <span class="c1"># convert kilometers to miles</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">1000.0</span><span class="o">/</span><span class="mf">1.609344</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>    <span class="c1"># plot the u values linearly ...</span>
    <span class="s1">&#39;align_func&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mf">1.609344</span><span class="p">,</span>   <span class="c1"># but adjust the length to match kilometers</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$mi.$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">eff_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel efficiency in km / litre) (u2)</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">5.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">20.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="mf">100.0</span><span class="o">/</span><span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$\frac</span><span class="si">{L}</span><span class="s1">{100 \, km}$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">2.0</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">eff_US</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel efficiency in miles per US gallon) u2</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">235.189</span><span class="o">/</span><span class="mf">20.0</span><span class="p">,</span>      <span class="c1"># magic value to coordinate length of SI and US scale</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">235.189</span><span class="o">/</span><span class="mf">5.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$\frac{mi.}{US \, gal.}$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;scale_type&#39;</span><span class="p">:</span> <span class="s1">&#39;linear smart&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title_draw_center&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s1">&#39;title_distance_center&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.5</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">fuel_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel consumption in litres (u3)</span>
    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;consumption&#39;</span><span class="p">,</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$L$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">fuel_US</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c1"># fuel consumption in US gallons</span>
    <span class="s1">&#39;tag&#39;</span><span class="p">:</span> <span class="s1">&#39;consumption&#39;</span><span class="p">,</span>
    <span class="s1">&#39;u_min&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="o">/</span><span class="mf">3.785</span><span class="p">,</span>    <span class="c1"># convert liters to USG</span>
    <span class="s1">&#39;u_max&#39;</span><span class="p">:</span> <span class="mf">100.0</span><span class="o">/</span><span class="mf">3.785</span><span class="p">,</span>
    <span class="s1">&#39;function&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="p">,</span>    <span class="c1"># plot the gallons</span>
    <span class="s1">&#39;align_func&#39;</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">u</span><span class="p">:</span> <span class="n">u</span><span class="o">*</span><span class="mf">3.785</span><span class="p">,</span>   <span class="c1"># but must be scaled up to litres</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;$US \, gal.$&#39;</span><span class="p">,</span>
    <span class="s1">&#39;tick_levels&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;tick_text_levels&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s1">&#39;tick_side&#39;</span><span class="p">:</span> <span class="s1">&#39;left&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title_x_shift&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">block_SI</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">dist_SI</span><span class="p">,</span>
    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">eff_SI</span><span class="p">,</span>
    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">fuel_SI</span><span class="p">,</span>
    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">600</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">90</span><span class="p">]],</span>
<span class="p">}</span>

<span class="n">block_US</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;block_type&#39;</span><span class="p">:</span> <span class="s1">&#39;type_2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;f1_params&#39;</span><span class="p">:</span> <span class="n">dist_US</span><span class="p">,</span>
    <span class="s1">&#39;f2_params&#39;</span><span class="p">:</span> <span class="n">eff_US</span><span class="p">,</span>
    <span class="s1">&#39;f3_params&#39;</span><span class="p">:</span> <span class="n">fuel_US</span><span class="p">,</span>
    <span class="s1">&#39;isopleth_values&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">550</span><span class="p">,</span> <span class="mf">40.0</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">]],</span>
<span class="p">}</span>

<span class="n">main_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;filename&#39;</span><span class="p">:</span> <span class="s1">&#39;tutorial2.pdf&#39;</span><span class="p">,</span>
    <span class="s1">&#39;paper_height&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;paper_width&#39;</span><span class="p">:</span><span class="mf">15.0</span><span class="p">,</span>
    <span class="s1">&#39;block_params&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">block_SI</span><span class="p">,</span> <span class="n">block_US</span><span class="p">],</span>
    <span class="s1">&#39;transformations&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;rotate&#39;</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;scale paper&#39;</span><span class="p">,)],</span>
    <span class="s1">&#39;title_str&#39;</span><span class="p">:</span> <span class="sa">r</span><span class="s1">&#39;\LARGE Fuel economy calculator (Metric and US)&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">Nomographer</span><span class="p">(</span><span class="n">main_params</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2019, Daniel Boulet, Ron Doerfler, Joe Marasco, Leif Roschier.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>